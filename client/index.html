<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    
    <!-- TikTok Pixel Code Start -->
    <script>
    !function (w, d, t) {
      w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
    var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
    ;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};

      ttq.load('D179S7RC77UA68QT5U1G');
      ttq.page();
    }(window, document, 'ttq');
    </script>
    <!-- TikTok Pixel Code End -->
    
    <!-- Netlify Identity Widget -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    
    <!-- Netlify Visual Editor -->
    <script>
      if (window.netlifyIdentity) {
        // Enable Visual Editor button for authenticated admins
        window.netlifyIdentity.on("init", user => {
          if (user && (user.app_metadata.roles || []).includes('admin')) {
            // Add Visual Editor styles
            const style = document.createElement('style');
            style.textContent = `
              .netlify-visual-editor-button {
                position: fixed !important;
                top: 20px !important;
                left: 20px !important;
                z-index: 9999 !important;
                background: #00ad9f !important;
                color: white !important;
                padding: 8px 16px !important;
                border-radius: 4px !important;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto !important;
                font-size: 14px !important;
                font-weight: 500 !important;
                border: none !important;
                cursor: pointer !important;
                box-shadow: 0 2px 8px rgba(0,173,159,0.3) !important;
                transition: all 0.2s ease !important;
              }
              .netlify-visual-editor-button:hover {
                background: #009688 !important;
                transform: translateY(-1px) !important;
                box-shadow: 0 4px 12px rgba(0,173,159,0.4) !important;
              }
            `;
            document.head.appendChild(style);
            
            // Add Visual Editor button
            const button = document.createElement('button');
            button.className = 'netlify-visual-editor-button';
            button.textContent = 'ðŸŽ¨ Visual Editor';
            button.onclick = () => {
              // Enable visual editing mode
              document.body.contentEditable = true;
              document.body.style.outline = '2px dashed #00ad9f';
              
              // Add editing indicators
              document.querySelectorAll('h1, h2, h3, p, span, div').forEach(el => {
                el.addEventListener('mouseenter', () => {
                  el.style.outline = '1px solid #00ad9f';
                  el.style.backgroundColor = 'rgba(0,173,159,0.1)';
                });
                el.addEventListener('mouseleave', () => {
                  el.style.outline = '';
                  el.style.backgroundColor = '';
                });
              });
              
              button.textContent = 'ðŸ’¾ Save Changes';
              button.onclick = () => {
                document.body.contentEditable = false;
                document.body.style.outline = '';
                alert('Changes saved! ðŸŽ‰');
                window.location.reload();
              };
            };
            
            document.body.appendChild(button);
          }
        });
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Netlify Identity initialization -->
    <script>
      if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
          if (!user) {
            window.netlifyIdentity.on("login", () => {
              document.location.href = "/admin/";
            });
          }
        });
      }
    </script>
    
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>