import{j as e}from"./index-DlRWamn9.js";import{B as t}from"./button-BzzomSIn.js";import{b as y,c as b,C as u,a as w}from"./card-KLcyomIB.js";import{c as v,X as p,S as C,f as P,g as T,e as $,T as k}from"./App-CvhLKF7W.js";import{P as q}from"./plus-Bfo-okua.js";import"./utils-CytzSlOG.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=v("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),O=({isOpen:j,cartItems:l,translations:n,currentLanguage:r,onClose:o,onUpdateQuantity:h,onRemoveItem:f,onCheckout:d})=>{const c=s=>`${n.currency}${(s/100).toFixed(0)}`,i=l.reduce((s,a)=>s+a.totalPrice*a.quantity,0),m=s=>{const a=k.find(x=>x.id===s);return r==="he"?a==null?void 0:a.nameHe:a==null?void 0:a.nameEn},N=()=>{if(l.length===0)return"";const s=l.map(a=>{const x=r==="he"?a.nameHe:a.nameEn,g=a.selectedToppings.length>0?` (转住驻转: ${a.selectedToppings.map(m).join(", ")})`:"";return`${x}${g} x${a.quantity} - ${c(a.totalPrice*a.quantity)}`}).join(`
`);return encodeURIComponent(`砖!  专爪 :

${s}

住": ${c(i)}

转转 砖: `)};return j?e.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:o}),e.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 max-w-full bg-white shadow-2xl flex flex-col z-50",children:[e.jsx(y,{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{className:"text-xl font-bold",children:n.cartTitle}),e.jsx(t,{variant:"ghost",size:"sm",onClick:o,children:e.jsx(p,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-12",children:[e.jsx(C,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:n.cartEmpty}),e.jsx("p",{className:"text-sm mt-2",children:"住祝 转 转驻专  转"})]}):e.jsx("div",{className:"space-y-4",children:l.map(s=>e.jsx(u,{children:e.jsxs(w,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:r==="he"?s.nameHe:s.nameEn}),s.selectedToppings.length>0&&e.jsxs("p",{className:"text-sm text-gray-600",children:["转住驻转: ",s.selectedToppings.map(m).join(", ")]}),e.jsx("p",{className:"text-sm text-gray-600",children:c(s.totalPrice)})]}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>f(s.cartItemId),children:e.jsx(p,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>h(s.cartItemId,s.quantity-1),disabled:s.quantity<=1,children:e.jsx(z,{className:"w-3 h-3"})}),e.jsx("span",{className:"w-8 text-center font-semibold",children:s.quantity}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>h(s.cartItemId,s.quantity+1),children:e.jsx(q,{className:"w-3 h-3"})})]}),e.jsx("span",{className:"font-semibold",children:c(s.totalPrice*s.quantity)})]})]})},s.cartItemId))})}),l.length>0&&e.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-lg font-bold",children:[e.jsx("span",{children:n.total}),e.jsx("span",{children:c(i)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(t,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",onClick:()=>{P(l,i),d==null||d()},children:[e.jsx("span",{className:"text-lg mr-2",children:""}),r==="he"?"转砖 ":"Secure Payment"]}),e.jsxs(t,{className:"w-full bg-green-600 hover:bg-green-700 text-white py-3",onClick:()=>{T(l,i,"whatsapp");const a=`https://wa.me/972546083500?text=${N()}`;window.open(a,"_blank")},children:[e.jsx($,{className:"w-4 h-4 mr-2"}),n.orderWhatsapp]})]})]})})]})]}):null};export{O as default};
